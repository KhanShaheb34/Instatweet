(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{155:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(37),s=n.n(c),o=(n(155),n(30)),i=n(12),u=n(212),l=n(22),j=n(16),b=n(5),d=n(8),p=n.n(d),f=n(11),x=n(216),h=n(132),O=n(199),m=n(213),g=n(200),v=n(91),w={isLoggedIn:!!localStorage.getItem("token"),id:localStorage.getItem("id"),username:localStorage.getItem("username"),token:localStorage.getItem("token")},y=Object(v.b)({name:"auth",initialState:w,reducers:{login:function(e,t){localStorage.setItem("token",t.payload.token),localStorage.setItem("id",t.payload.user.id),localStorage.setItem("username",t.payload.user.username),e.id=t.payload.user.id,e.username=t.payload.user.username,e.token=t.payload.token,e.isLoggedIn=!0},logout:function(e){localStorage.clear(),e.id=null,e.username=null,e.token=null,e.isLoggedIn=!1}}}),k=y.actions,S=k.login,C=k.logout,D=y.reducer,B=(y.actions,n(42)),R=n(74),I=Object(B.b)({auth:D}),L="RESET_APP_REDUX_STORE",F=Object(v.a)({reducer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r.type===L?I(void 0,r):I.apply(void 0,t)},devTools:!1}),z=function(){return Object(R.c)()},U=Object(R.b)(),A=n(71),W=n.n(A),E=n(29),P=n(40),q=function(){function e(){Object(E.a)(this,e)}return Object(P.a)(e,null,[{key:"Add",value:function(e){return e.interceptors.request.use((function(e){var t,n=localStorage.getItem("token"),r=n?{authorization:"Bearer ".concat(n)}:{},a=Object(l.a)(Object(l.a)({},null!==(t=e.headers)&&void 0!==t?t:{}),r);return Object(l.a)(Object(l.a)({},e),{},{headers:a})}))}},{key:"Remove",value:function(e,t){e.interceptors.request.eject(t)}}]),e}(),T=function(){function e(){Object(E.a)(this,e)}return Object(P.a)(e,null,[{key:"Add",value:function(e,t,n){function r(){null===n||void 0===n||n(),window.location.href=t}function a(){return(a=Object(f.a)(p.a.mark((function e(t){var n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw 403!==(null===(n=t.response)||void 0===n?void 0:n.status)&&401!==(null===(a=t.response)||void 0===a?void 0:a.status)||r(),new Error(JSON.stringify(null!==(c=null===t||void 0===t?void 0:t.response)&&void 0!==c?c:{isSuccess:"error",error:"Request Error",message:"Request Error"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.interceptors.response.use((function(e){return e}),(function(e){return a.apply(this,arguments)}))}},{key:"Remove",value:function(e,t){e.interceptors.response.eject(t)}}]),e}(),H={Root:"https://instatweet-preview.herokuapp.com",User:{Root:function(){return"".concat(H.Root,"/users")},Login:function(){return"".concat(H.User.Root(),"/login")},SingleUser:function(e){return"".concat(H.User.Root(),"/").concat(e)}},Post:{Root:function(){return"".concat(H.Root,"/posts")}},Like:{Root:function(){return"".concat(H.Root,"/likes")}},Comment:{Root:function(){return"".concat(H.Root,"/comments")}},Follow:{Root:function(){return"".concat(H.Root,"/followers")},Check:function(){return"".concat(H.Follow.Root(),"/check")}}},_={Root:"",Home:function(){return"".concat(_.Root,"/")},Login:function(){return"".concat(_.Root,"/login")},Logout:function(){return"".concat(_.Root,"/logout")}},N=W.a.create();q.Add(N),T.Add(N,_.Logout(),(function(){localStorage.clear()}));var G=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(H.Post.Root());case 2:if("success"!==(t=e.sent).data.status){e.next=7;break}return e.abrupt("return",t.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(H.Like.Root(),{postId:t});case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(H.Post.Root(),{content:t});case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("".concat(H.Post.Root(),"/").concat(t));case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=n(217),K=n(2),Q=function(e){var t=e.onPost,n=U((function(e){return e.auth})).username,a=Object(r.useState)(!1),c=Object(b.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(b.a)(i,2),l=u[0],j=u[1],d=function(){var e=Object(f.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o(!0),j(""),e.next=5,M(l);case 5:(r=e.sent)&&t(r),o(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(O.a,{as:"form",my:3,background:"white",border:"1px solid #DBDBDB",p:3,rounded:"md",display:"flex",children:[Object(K.jsx)(x.a,{src:"https://avatars.dicebear.com/api/micah/".concat(n,".svg"),width:"60px",height:"60px",border:"1px solid #DBDBDB"}),Object(K.jsxs)(O.a,{display:"flex",flexGrow:1,ml:3,flexDirection:"column",alignItems:"end",children:[Object(K.jsx)(g.a,{resize:"none",fontSize:"20px",height:"100px",maxLength:100,shadow:"none",outline:"none",p:0,pt:1,border:"none",rounded:"none",_focus:{shadow:"none",outline:"none"},placeholder:"What's happening?",_placeholder:{fontSize:"25px"},value:l,onChange:function(e){return j(e.target.value)}}),Object(K.jsx)(m.a,{value:l.length,colorScheme:"teal",width:"100%",mb:3,height:1}),Object(K.jsxs)(h.a,{disabled:0===l.length||s,variant:"solid",colorScheme:"teal",rounded:"full",onClick:d,children:[s&&Object(K.jsx)(Y.a,{})," Instatweet"]})]})]})},V=n(203),Z=n(206),$=n(92),ee=n(208),te=Object(ee.a)(O.a),ne=n(218),re=n(204),ae=n(205),ce=n(209),se=n(85),oe=n.n(se),ie=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(H.Comment.Root(),{postId:t,content:n});case 2:if("success"!==(r=e.sent).data.status){e.next=7;break}return e.abrupt("return",r.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("".concat(H.Comment.Root(),"/").concat(t));case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("".concat(H.Comment.Root(),"/").concat(t));case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=n(86),be=function(e){var t=e.isOpen,n=e.onClose,a=e.postId,c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],u=s[1],l=Object(r.useState)(!0),d=Object(b.a)(l,2),m=d[0],g=d[1],v=Object(r.useState)(!1),w=Object(b.a)(v,2),y=w[0],k=w[1],S=Object(r.useState)([]),C=Object(b.a)(S,2),D=C[0],B=C[1],R=U((function(e){return e.auth})).username;Object(r.useEffect)((function(){ue(a).then((function(e){e&&B(e),g(!1)}))}),[]);var I=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.next=4,ie(a,i);case 4:(n=e.sent)&&B([].concat(Object(j.a)(D),[n])),u(""),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(D.filter((function(e){return e.id!==t}))),e.next=3,le(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(ce.a,{isOpen:t,onClose:n,children:[Object(K.jsx)(ce.g,{}),Object(K.jsxs)(ce.d,{children:[Object(K.jsxs)(ce.f,{children:["Total ",null===D||void 0===D?void 0:D.length," Comments"]}),Object(K.jsx)(ce.c,{}),Object(K.jsx)(ce.b,{children:m||!D?Object(K.jsx)(Y.a,{}):Object(K.jsxs)(K.Fragment,{children:[D.length?D.map((function(e){return Object(K.jsxs)(O.a,{display:"flex",mb:4,children:[Object(K.jsx)(x.a,{as:o.b,to:"/".concat(e.user.username),src:"https://avatars.dicebear.com/api/micah/".concat(e.user.username,".svg"),width:"50px",height:"50px",border:"1px solid #DBDBDB"}),Object(K.jsxs)(O.a,{ml:3,w:"100%",children:[Object(K.jsxs)(O.a,{display:"flex",justifyContent:"space-between",children:[Object(K.jsxs)(O.a,{children:[Object(K.jsx)(V.a,{fontWeight:"bold",as:o.b,to:"/".concat(e.user.username),children:e.user.username}),Object(K.jsx)(V.a,{size:"sm",fontWeight:"light",color:"#aaa",children:oe()(e.createdAt).fromNow()})]}),e.user.username===R&&Object(K.jsx)(re.a,{variant:"outline",colorScheme:"red","aria-label":"Delete Comment",icon:Object(K.jsx)(je.a,{}),size:"sm",onClick:function(){return L(e.id)}})]}),Object(K.jsx)(V.a,{children:e.content})]})]},e.id)})):"No Comments",Object(K.jsxs)(O.a,{display:"flex",as:"form",mb:3,onSubmit:I,children:[Object(K.jsx)(ae.a,{type:"text",value:i,mr:2,onChange:function(e){return u(e.target.value)},isRequired:!0,placeholder:"Write a comment..."}),Object(K.jsxs)(h.a,{disabled:y,colorScheme:"teal",type:"submit",variant:"solid",children:[y&&Object(K.jsx)(Y.a,{})," Comment"]})]})]})})]})]})},de=n(210),pe=function(e){var t,n=U((function(e){return e.auth})).id,a=Object(ne.a)(),c=a.isOpen,s=a.onOpen,i=a.onClose,u=e.userId===n,l=Object(r.useState)((null===(t=e.likes)||void 0===t?void 0:t.filter((function(e){return e.userId===n})).length)>0),j=Object(b.a)(l,2),d=j[0],p=j[1],f=Object(de.a)();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(O.a,{border:"1px solid #DBDBDB",my:4,rounded:"md",bg:"white",children:[Object(K.jsxs)(O.a,{py:2,px:3,display:"flex",justifyContent:"space-between",children:[Object(K.jsxs)(O.a,{display:"flex",alignItems:"center",as:o.b,to:"/".concat(e.user.username),children:[Object(K.jsx)(x.a,{src:"https://avatars.dicebear.com/api/micah/".concat(e.user.username,".svg"),width:"40px",height:"40px",border:"1px solid #DBDBDB"}),Object(K.jsx)(V.a,{ml:3,fontWeight:"bold",children:e.user.username})]}),u&&Object(K.jsx)(re.a,{variant:"outline",colorScheme:"red","aria-label":"Delete Comment",m:1,icon:Object(K.jsx)(je.a,{}),size:"sm",onClick:function(){e.onDelete(e.id);var t=X(e.id);f({title:t?"Post Deleted":"Something went wrong",status:t?"success":"error",duration:9e3,isClosable:!0})}})]}),Object(K.jsx)(O.a,{bg:"teal.700",color:"white",minH:"250px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",children:Object(K.jsx)(Z.a,{p:5,overflowWrap:"break-word",maxW:"100%",children:e.content})}),Object(K.jsxs)(O.a,{p:3,display:"flex",justifyContent:"space-between",children:[Object(K.jsxs)(O.a,{display:"flex",fontSize:30,children:[Object(K.jsx)(O.a,{mr:4,children:Object(K.jsx)(te,{onClick:function(){p(!d),J(e.id).then((function(e){return e&&p("Liked"===e.message)}))},cursor:"pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:d?Object(K.jsx)($.c,{style:{color:"#ED4956"}}):Object(K.jsx)($.b,{})})}),Object(K.jsx)(te,{onClick:s,cursor:"pointer",whileHover:{scale:1.1},whileTap:{scale:.9},children:Object(K.jsx)($.a,{})})]}),Object(K.jsx)(V.a,{size:"sm",fontWeight:"light",children:oe()(e.createdAt).fromNow()})]})]},e.id),Object(K.jsx)(be,{isOpen:c,onClose:i,postId:e.id})]})},fe=n(211),xe=function(){return Object(K.jsxs)(O.a,{border:"1px solid #DBDBDB",my:4,rounded:"md",bg:"white",children:[Object(K.jsx)(O.a,{py:2,px:3,display:"flex",justifyContent:"space-between",children:Object(K.jsxs)(O.a,{display:"flex",alignItems:"center",children:[Object(K.jsx)(fe.b,{size:"40px"}),Object(K.jsx)(fe.c,{ml:3,noOfLines:1,width:"100px"})]})}),Object(K.jsx)(fe.a,{height:"250px"}),Object(K.jsx)(fe.a,{height:"50px"})]})},he=n(207),Oe=n(61),me=function(e){var t=e.noLink;return Object(K.jsx)(V.a,{fontWeight:"bolder",fontSize:35,fontFamily:"'Fleur De Leah', cursive",lineHeight:"40px",as:o.b,to:t?"#":_.Home(),children:"InstaTweet"})},ge=function(){var e=U((function(e){return e.auth})).username;return Object(K.jsx)(O.a,{w:"100%",display:"block",borderBottom:"1px solid #DBDBDB",background:"#fff",p:4,top:0,position:"fixed",zIndex:"banner",children:Object(K.jsxs)(he.a,{display:"flex",justifyContent:"space-between",maxW:"xl",children:[Object(K.jsx)(me,{}),Object(K.jsxs)(O.a,{display:"flex",alignItems:"center",children:[Object(K.jsx)(x.a,{as:o.b,to:"/".concat(e),src:"https://avatars.dicebear.com/api/micah/".concat(e,".svg"),width:"40px",height:"40px",border:"1px solid #DBDBDB"}),Object(K.jsx)(re.a,{as:o.b,to:_.Logout(),variant:"outline",colorScheme:"red","aria-label":"Delete Comment",ml:3,icon:Object(K.jsx)(Oe.b,{}),size:"sm"})]})]})})},ve=function(e){var t=e.children;return U((function(e){return e.auth})).isLoggedIn?Object(K.jsxs)(O.a,{bg:"#FAFAFA",minH:"100vh",children:[Object(K.jsx)(ge,{}),Object(K.jsx)(he.a,{pt:"80px",maxW:"xl",children:t})]}):Object(K.jsx)(i.a,{to:"/login"})},we=function(){var e=Object(r.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){G().then((function(e){e&&i(e),a(!1)}))}),[]);var u=function(e){i(o.filter((function(t){return t.id!==e})))};return Object(K.jsxs)(ve,{children:[Object(K.jsx)(Q,{onPost:function(e){i([e].concat(Object(j.a)(o)))}}),n?Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(xe,{})}):Object(K.jsx)(K.Fragment,{children:o.map((function(e){return Object(K.jsx)(pe,Object(l.a)({onDelete:u},e),e.id)}))})]})},ye=function(){var e=Object(f.a)(p.a.mark((function e(t,n,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post(H.User.Root(),{username:t,email:n,password:r});case 3:return a=e.sent,e.abrupt("return","success"===a.data.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ke=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post(H.User.Login(),{username:t,password:n});case 3:if("success"!==(r=e.sent).data.status){e.next=6;break}return e.abrupt("return",r.data.data);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(!1),j=Object(b.a)(l,2),d=j[0],x=j[1],m=Object(de.a)(),g=z(),v=Object(i.g)(),w=function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),e.next=4,ke(n,o);case 4:(r=e.sent)?(g(S(r)),v.push(_.Home())):m({title:"Wrong credentials",status:"error",duration:9e3,isClosable:!0}),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(O.a,{as:"form",flexGrow:1,p:3,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",onSubmit:w,minW:"80%",children:[Object(K.jsx)(ae.a,{type:"text",mb:2,value:n,onChange:function(e){return a(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,""))},isRequired:!0,placeholder:"Username"}),Object(K.jsx)(ae.a,{type:"password",mb:3,value:o,onChange:function(e){return u(e.target.value)},isRequired:!0,placeholder:"Password"}),Object(K.jsxs)(h.a,{disabled:d,colorScheme:"teal",type:"submit",variant:"solid",children:[d&&Object(K.jsx)(Y.a,{})," Login"]})]})},Ce=function(e){var t=e.onSignUp,n=Object(r.useState)(""),a=Object(b.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(b.a)(o,2),u=i[0],l=i[1],j=Object(r.useState)(""),d=Object(b.a)(j,2),x=d[0],m=d[1],g=Object(r.useState)(!1),v=Object(b.a)(g,2),w=v[0],y=v[1],k=Object(de.a)(),S=function(){var e=Object(f.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),n.preventDefault(),e.next=4,ye(c,u,x);case 4:r=e.sent,k({title:r?"Account Created. Please log in.":"Username or email already exists.",status:r?"success":"error",duration:9e3,isClosable:!0}),r&&(s(""),l(""),m(""),t()),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(K.jsxs)(O.a,{as:"form",flexGrow:1,p:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",onSubmit:S,minW:"80%",children:[Object(K.jsx)(ae.a,{type:"text",mb:2,value:c,onChange:function(e){return s(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,""))},isRequired:!0,placeholder:"Username"}),Object(K.jsx)(ae.a,{type:"email",mb:2,value:u,onChange:function(e){return l(e.target.value.toLowerCase())},isRequired:!0,placeholder:"Email"}),Object(K.jsx)(ae.a,{type:"password",mb:3,value:x,onChange:function(e){return m(e.target.value)},isRequired:!0,placeholder:"Password",minLength:6}),Object(K.jsxs)(h.a,{disabled:w,colorScheme:"teal",type:"submit",variant:"solid",children:[w&&Object(K.jsx)(Y.a,{})," Sign Up"]})]})},De=function(){var e=Object(r.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1];return U((function(e){return e.auth})).isLoggedIn?Object(K.jsx)(i.a,{to:"/"}):Object(K.jsx)(O.a,{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",background:"#FAFAFA",children:Object(K.jsxs)(O.a,{border:"1px solid #DBDBDB",rounded:"sm",p:5,maxW:800,display:"flex",flexDirection:"column",alignItems:"center",m:2,background:"white",minW:"35%",children:[Object(K.jsx)(me,{noLink:!0}),Object(K.jsx)(Z.a,{mb:3,size:"lg",textAlign:"center",fontWeight:"light",children:n?"Login":"Sign Up"}),n?Object(K.jsx)(Se,{}):Object(K.jsx)(Ce,{onSignUp:function(){return a(!0)}}),Object(K.jsx)(V.a,{color:"teal",cursor:"pointer",_hover:{textDecoration:"underline"},onClick:function(){return a(!n)},children:n?"Don't have an account?":"Already have an account!"})]})})},Be=(n(187),function(){var e=z(),t=Object(i.g)();return Object(r.useEffect)((function(){e(C()),t.push(_.Login())}),[]),Object(K.jsx)(K.Fragment,{})}),Re=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(H.User.SingleUser(t));case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(H.Follow.Root(),{userId:t});case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(H.Follow.Check(),{userId:t});case 2:if("success"!==(n=e.sent).data.status){e.next=7;break}return e.abrupt("return",n.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(f.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.put(H.User.Root(),{name:t,bio:n});case 2:if("success"!==(r=e.sent).data.status){e.next=7;break}return e.abrupt("return",r.data.data);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(e){var t=e.user,n=e.onUpdate,a=Object(ne.a)(),c=a.isOpen,s=a.onOpen,o=a.onClose,i=Object(r.useState)(t.username),u=Object(b.a)(i,2),l=u[0],j=u[1],d=Object(r.useState)(t.email),x=Object(b.a)(d,2),m=x[0],v=x[1],w=Object(r.useState)(t.name),y=Object(b.a)(w,2),k=y[0],S=y[1],C=Object(r.useState)(t.bio),D=Object(b.a)(C,2),B=D[0],R=D[1],I=Object(r.useState)(!1),L=Object(b.a)(I,2),F=L[0],z=L[1],U=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,Fe(k,B);case 3:(t=e.sent)&&n(t),z(!1),o();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(h.a,{size:"sm",variant:"outline",onClick:s,colorScheme:"teal",children:[Object(K.jsx)(Oe.a,{}),Object(K.jsx)(V.a,{ml:2,children:"Edit"})]}),Object(K.jsxs)(ce.a,{isOpen:c,onClose:o,children:[Object(K.jsx)(ce.g,{}),Object(K.jsxs)(ce.d,{children:[Object(K.jsx)(ce.f,{children:"Update Profile"}),Object(K.jsx)(ce.c,{}),Object(K.jsx)(ce.b,{children:Object(K.jsxs)(O.a,{children:[Object(K.jsx)(ae.a,{value:l,mb:2,onChange:function(e){return j(e.target.value.toLowerCase())},disabled:!0,placeholder:"username"}),Object(K.jsx)(ae.a,{value:m,mb:2,onChange:function(e){return v(e.target.value.toLowerCase())},disabled:!0,type:"email",maxLength:75,placeholder:"email"}),Object(K.jsx)(ae.a,{value:k,mb:2,onChange:function(e){return S(e.target.value)},maxLength:50,placeholder:"Name"}),Object(K.jsx)(g.a,{resize:"none",maxLength:100,placeholder:"Bio",value:B,mb:2,onChange:function(e){return R(e.target.value)}})]})}),Object(K.jsxs)(ce.e,{children:[Object(K.jsx)(h.a,{colorScheme:"blue",mr:3,onClick:o,children:"Close"}),Object(K.jsxs)(h.a,{disabled:F,variant:"outline",colorScheme:"teal",onClick:U,children:[F&&Object(K.jsx)(Y.a,{})," Update"]})]})]})]})]})},Ue=function(e){var t=e.userId,n=Object(r.useState)(!1),a=Object(b.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!0),i=Object(b.a)(o,2),u=i[0],l=i[1];Object(r.useEffect)((function(){Le(t).then((function(e){e&&s(e.follow),l(!1)}))}),[t]);var j=function(){var e=Object(f.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!c),e.next=3,Ie(t);case 3:(n=e.sent)&&s("Followed"===n.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(K.jsx)(h.a,{size:"sm",colorScheme:c?"red":"teal",variant:"outline",onClick:j,disabled:u,children:u?Object(K.jsx)(Y.a,{}):c?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Oe.c,{}),Object(K.jsx)(V.a,{ml:2,children:"Unfollow"})]}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Oe.d,{}),Object(K.jsx)(V.a,{ml:2,children:"Follow"})]})})},Ae=function(){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(O.a,{border:"1px solid #DBDBDB",my:4,rounded:"md",bg:"white",children:Object(K.jsxs)(O.a,{display:"flex",m:4,alignItems:"center",flexDirection:["column","column","row"],children:[Object(K.jsx)(fe.b,{size:"100px"}),Object(K.jsx)(O.a,{mt:[3,3,0],ml:[0,0,3],textAlign:["center","center","left"],children:Object(K.jsx)(fe.c,{width:"100px"})})]})}),Object(K.jsx)(xe,{}),Object(K.jsx)(xe,{})]})},We=function(){var e=Object(i.h)().username,t=U((function(e){return e.auth})).username,n=Object(r.useMemo)((function(){return e===t}),[t,e]),a=Object(r.useState)(!0),c=Object(b.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(),d=Object(b.a)(u,2),p=d[0],f=d[1],h=Object(de.a)();Object(r.useEffect)((function(){o(!0),Re(e).then((function(e){e?f(e):h({title:"Something went wrong",status:"error",duration:9e3,isClosable:!0}),o(!1)}))}),[h,e]);var m=function(e){p&&f(Object(l.a)(Object(l.a)({},p),{},{posts:null===p||void 0===p?void 0:p.posts.filter((function(t){return t.id!==e}))}))};return Object(K.jsx)(ve,{children:s||!p?Object(K.jsx)(Ae,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(O.a,{border:"1px solid #DBDBDB",my:4,rounded:"md",bg:"white",children:Object(K.jsxs)(O.a,{display:"flex",m:4,alignItems:"center",flexDirection:["column","column","row"],children:[Object(K.jsx)(x.a,{src:"https://avatars.dicebear.com/api/micah/".concat(p.username,".svg"),width:"100px",height:"100px",border:"1px solid #DBDBDB"}),Object(K.jsxs)(O.a,{mt:[3,3,0],ml:[0,0,3],textAlign:["center","center","left"],children:[Object(K.jsxs)(Z.a,{size:"md",mb:2,children:[p.username,p.name&&Object(K.jsxs)(V.a,{display:"inline",ml:1,fontSize:"sm",children:["(",p.name,")"]})]}),p.bio&&Object(K.jsx)(Z.a,{size:"sm",color:"gray",mb:2,fontWeight:"light",children:p.bio}),n?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(ze,{onUpdate:f,user:p}),Object(K.jsxs)(Z.a,{size:"sm",mt:2,fontWeight:"light",children:["You have ",p.followers.length," followers"]})]}):Object(K.jsx)(Ue,{userId:p.id})]})]})}),n&&Object(K.jsx)(Q,{onPost:function(e){p&&f(Object(l.a)(Object(l.a)({},p),{},{posts:[e].concat(Object(j.a)(p.posts))}))}}),p.posts.map((function(e){return Object(K.jsx)(pe,Object(l.a)({onDelete:m},e),e.id)}))]})})};var Ee=function(){return Object(K.jsx)(u.a,{children:Object(K.jsx)(o.a,{children:Object(K.jsxs)(i.d,{children:[Object(K.jsx)(i.b,{exact:!0,path:"/logout",children:Object(K.jsx)(Be,{})}),Object(K.jsx)(i.b,{exact:!0,path:"/login",children:Object(K.jsx)(De,{})}),Object(K.jsx)(i.b,{exact:!0,path:"/",children:Object(K.jsx)(we,{})}),Object(K.jsx)(i.b,{path:"/:username",children:Object(K.jsx)(We,{})})]})})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(K.jsx)(a.a.StrictMode,{children:Object(K.jsx)(R.a,{store:F,children:Object(K.jsx)(Ee,{})})}),document.getElementById("root")),Pe()}},[[188,1,2]]]);
//# sourceMappingURL=main.7bd11a4e.chunk.js.map